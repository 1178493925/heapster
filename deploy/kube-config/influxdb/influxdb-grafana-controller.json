{
    "apiVersion": "v1",
    "kind": "ReplicationController",
    "metadata": {
	"labels": {
	    "name": "influxGrafana"
	},
	"name": "influxdb-grafana",
	"namespace": "kube-system"
    },
    "spec": {
	"replicas": 1,
	"selector": {
	    "name": "influxGrafana"
	},
	"template": {
	    "metadata": {
		"labels": {
		    "name": "influxGrafana"
		}
	    },
	    "spec": {
		"volumes": [
		    {
			"name": "grafana-store",
			"emptyDir": {}
		    },
		    {
			"name": "influxdb-store",
			"emptyDir": {}
		    }

		],
		"containers": [
		    {
			"image": "kubernetes/heapster_influxdb:v0.4",
			"name": "influxdb",
			"volumeMounts": [
			    {
				"name": "influxdb-store",
				"mountPath": "/data"
			    }
			]
		    },
		    {
			"image": "kubernetes/heapster_grafana:v2.1.1",
			"name": "grafana",
			"env": [
			    {
				"name": "INFLUXDB_SERVICE_URL",
				"value": "http://monitoring-influxdb:8086"
			    }
			],
			"volumeMounts": [
			    {
				"name": "grafana-store",
				"mountPath": "/var"
			    }
			]
		    }
		]
	    }          
	}
    }
}

